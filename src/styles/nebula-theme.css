/* ── Dashboard-wide Nebula theme ────────────────────── */
/* Active when html[data-theme="nebula"] is set by useProfile */

/* ── Token overrides ─────────────────────────────────── */

[data-theme="nebula"] {
  --bg-base: #0b0d1a;
  --bg-surface: #12152a;
  --bg-card: #1a1e35;
  --bg-card-hover: #222844;
  --text-primary: #e0e4f0;
  --text-secondary: #9a9ec0;
  --text-muted: #5c5f80;
  --border: #2a2e50;
  --shadow-card: 0 2px 12px rgba(100, 80, 200, 0.15);
  --shadow-elevated: 0 8px 32px rgba(100, 80, 200, 0.25);
}

/* ── Page background — deep gradient + star-dust noise ─ */

html[data-theme="nebula"] {
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E") repeat,
    linear-gradient(160deg, #0b0d1a 0%, #10122a 40%, #0e1025 70%, #0b0d1a 100%);
}

/* ── Top bar — subtle bottom glow ──────────────────── */

[data-theme="nebula"] .top-bar {
  border-bottom: 1px solid rgba(100, 80, 200, 0.2);
  box-shadow: 0 1px 8px rgba(100, 80, 200, 0.1);
}

/* ── What's New — glassy panel with faint purple glow ── */

[data-theme="nebula"] .whats-new {
  border: 1px solid rgba(100, 80, 200, 0.15);
  box-shadow: var(--shadow-card), 0 0 20px rgba(100, 80, 200, 0.05);
  background: rgba(26, 30, 53, 0.6);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

[data-theme="nebula"] .whats-new__item {
  border-bottom: 1px solid rgba(100, 80, 200, 0.1);
}

[data-theme="nebula"] .whats-new__item:last-child {
  border-bottom: none;
}

[data-theme="nebula"] .whats-new__toggle {
  border: 1px solid rgba(100, 80, 200, 0.2);
}

/* ── What's New badges — nebula glow colors ──────────── */

[data-theme="nebula"] .whats-new__badge--patch {
  background: rgba(80, 200, 240, 0.12);
  color: #50c8f0;
}

[data-theme="nebula"] .whats-new__badge--experiment {
  background: rgba(240, 180, 60, 0.12);
  color: #f0b43c;
}

[data-theme="nebula"] .whats-new__badge--announcement {
  background: rgba(60, 220, 140, 0.12);
  color: #3cdc8c;
}

/* ── Account drawer — glass panel with glow border ───── */

[data-theme="nebula"] .account-drawer {
  border: 1px solid rgba(100, 80, 200, 0.15);
  background: rgba(26, 30, 53, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 0 16px rgba(100, 80, 200, 0.08);
}

/* ── Mobile drawer ─────────────────────────────────── */

[data-theme="nebula"] .drawer-panel {
  border-left: 1px solid rgba(100, 80, 200, 0.15);
  background: rgba(18, 21, 42, 0.95);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

[data-theme="nebula"] .drawer-overlay--open {
  background: rgba(5, 5, 15, 0.6);
}

/* ── Footer — subtle top glow ──────────────────────── */

[data-theme="nebula"] .site-footer {
  border-top: 1px solid rgba(100, 80, 200, 0.2);
  box-shadow: 0 -1px 8px rgba(100, 80, 200, 0.08);
}

/* ── Consent banner — glass panel ──────────────────── */

[data-theme="nebula"] .consent-banner {
  border-top: 1px solid rgba(100, 80, 200, 0.2);
  box-shadow: 0 -4px 20px rgba(100, 80, 200, 0.12);
  background: rgba(18, 21, 42, 0.92);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
